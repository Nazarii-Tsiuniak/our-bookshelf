<div class="form-container">
  <h2>{{ isEditMode ? '–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ –∫–Ω–∏–≥—É' : '–î–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É' }}</h2>

  <form (ngSubmit)="save()">
    <label>
      –ù–∞–∑–≤–∞
      <input type="text" [(ngModel)]="book.title" name="title" required>
    </label>

    <label>
      –ê–≤—Ç–æ—Ä
      <input type="text" [(ngModel)]="book.author" name="author" required>
    </label>

    <label>
      –û–ø–∏—Å
      <textarea [(ngModel)]="book.description" name="description" rows="4"></textarea>
    </label>

    <label>
      –ú–æ–≤–∞
      <select [(ngModel)]="book.language" name="language">
        <option value="uk">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</option>
        <option value="en">–ê–Ω–≥–ª—ñ–π—Å—å–∫–∞</option>
      </select>
    </label>

    <label>
      –ñ–∞–Ω—Ä
      <input type="text" [(ngModel)]="book.genre" name="genre">
    </label>

    <label>
      –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±–∫–ª–∞–¥–∏–Ω–∫—É
      <input type="text"
             [(ngModel)]="book.coverUrl"
             name="coverUrl"
             placeholder="https://example.com/cover.jpg –∞–±–æ assets/covers/1.jpg"
             (input)="onImageLoad()"
      >
    </label>

    <!-- –ü—Ä–µ–≤‚Äô—é –∫–∞—Ä—Ç–∏–Ω–∫–∏ -->
    <div *ngIf="book.coverUrl" class="cover-preview-wrapper">
      <p>–ü—Ä–µ–≤‚Äô—é –æ–±–∫–ª–∞–¥–∏–Ω–∫–∏:</p>
      <img [src]="book.coverUrl" alt="Cover Preview" class="cover-preview" (error)="onImageError()">
      <p *ngIf="imageError" class="error-text">‚ö†Ô∏è –ù–µ–≤—ñ—Ä–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –∞–±–æ —Ñ–æ—Ä–º–∞—Ç –∫–∞—Ä—Ç–∏–Ω–∫–∏</p>
    </div>

    <div class="form-actions">
      <button type="submit">üíæ –ó–±–µ—Ä–µ–≥—Ç–∏</button>
      <button type="button" [routerLink]="['/']">‚ùå –í—ñ–¥–º—ñ–Ω–∏—Ç–∏</button>
    </div>
  </form>
</div>
